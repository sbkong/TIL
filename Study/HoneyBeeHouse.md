## 문제

![](https://www.acmicpc.net/JudgeOnline/upload/201009/3(2).png)

위의 그림과 같이 육각형으로 이루어진 벌집이 있다. 그림에서 보는 바와 같이 중앙의 방 1부터 시작해서 이웃하는 방에 돌아가면서 1씩 증가하는 번호를 주소로 매길 수 있다. 숫자 N이 주어졌을 때, 벌집의 중앙 1에서 N번 방까지 최소 개수의 방을 지나서 갈 때 몇 개의 방을 지나가는지(시작과 끝을 포함하여)를 계산하는 프로그램을 작성하시오. 예를 들면, 13까지는 3개, 58까지는 5개를 지난다.

## 입력

첫째 줄에 N(1 ≤ N ≤ 1,000,000,000)이 주어진다.

## 출력

입력으로 주어진 방까지 최소 개수의 방을 지나서 갈 때 몇 개의 방을 지나는지 출력한다.

## 예제 입력 1 복사

13

## 예제 출력 1 복사

3

## 출처

[ICPC](https://www.acmicpc.net/category/1) > [Regionals](https://www.acmicpc.net/category/7) > [Asia Pacific](https://www.acmicpc.net/category/42) > [Korea](https://www.acmicpc.net/category/211) > [Nationwide Internet Competition](https://www.acmicpc.net/category/256) > [Seoul Nationalwide Internet Competition 2004](https://www.acmicpc.net/category/detail/1089) B번

___

# 풀이
- 규칙성을 찾는다.

한 단계씩 묶었다.
1 = 0
2 3 4 5 6 7 = 1 + 6
8 ~19 = 7 + 12
20 ~ 37 19 + 18

이런 규칙성을 띄는 것을 찾았다.

- 규칙성을 공식으로 만들기

$$현 단계의 마지막 수 = 전 단계의 마지막 수 + 6 * 단계의 수$$

___
나는 위와 같이 간단하게 풀었지만 chatGPT는 내가 당장 이해하기 어려운 공식을 내놓았다.
조금 시간을 들여 분석해보자.

벌집 모양으로 배치된 칸들에서 중앙의 1번 칸을 기준으로, 특정 칸까지 이동할 때 필요한 이동 횟수를 계산하는 공식을 찾고 싶으신 거군요. 일반적으로 벌집 모양의 구조에서는 특정 칸 번호까지의 거리를 층(layer)으로 나누어 생각할 수 있습니다.

벌집 구조에서 층은 다음과 같이 정의됩니다:
- 1번 칸은 0층에 위치합니다.
- 1번 칸을 둘러싼 6개의 칸(2번부터 7번)은 1층에 위치합니다.
- 그 다음 층(8번부터 19번까지)은 2층에 위치합니다.
- 일반적으로 k층에는 $6 \times k$개의 칸이 있습니다.

층의 범위는 다음과 같이 계산됩니다:
- 0층: 1
- 1층: 2 ~ 7 (6개의 칸)
- 2층: 8 ~ 19 (12개의 칸)
- 3층: 20 ~ 37 (18개의 칸)
- 4층: 38 ~ 61 (24개의 칸)
- ...

n번 칸이 몇 층에 위치하는지 찾기 위해, 각 층의 마지막 칸 번호를 계산하는 방식으로 접근할 수 있습니다.

일반적으로 k층의 마지막 칸 번호는 $1 + 3k(k+1)$입니다.

따라서 n번 칸이 몇 층에 위치하는지 구하려면, $1 + 3k(k+1) \geq n$이 되는 최소의 k 값을 찾으면 됩니다.

예를 들어, 54번 칸이 몇 층에 위치하는지 찾는 과정을 보여드리겠습니다:

1. $1 + 3k(k+1) \geq 54$
2. $3k^2 + 3k + 1 \geq 54$
3. $3k^2 + 3k - 53 \geq 0$

이 이차 방정식을 풀어보면,
$k = \frac{-3 \pm \sqrt{9 + 636}}{6}$
$k = \frac{-3 \pm \sqrt{645}}{6}$

근사값으로 계산하면,
$k \approx 4.74$

따라서, k가 4보다 크고 5보다 작은 경우임을 알 수 있습니다. 5층이 마지막으로 가득 채워지지 않았기 때문에, 54번 칸은 4층에 위치합니다.

이 과정을 일반화하면, 주어진 n에 대해 k층까지 도달하는 공식은:
$k = \left\lceil \frac{-1 + \sqrt{1 + 12(n-1)}}{6} \right\rceil$

이 공식을 사용하면 n번 칸까지의 이동 횟수를 쉽게 계산할 수 있습니다. 54번 칸의 경우 4층이므로, 이동 횟수는 4번입니다.