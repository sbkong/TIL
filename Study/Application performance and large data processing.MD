# 성능 테스트는 왜 해야하고 어떤 곳에서 해야하며 어떤 것을 확인해야 합니까?
### 왜?
- 서비스를 잘 하려고. =장애가 발생되지 않도록 하기 위해서.
- 어플리케이션 혹은 서버의 임계치를 확인하기 위해서.

### 어떤 곳에서?
- 트래픽이 많은 곳. 잘 모르겠으면 웹 페이지 일 경우에는 메인 페이지?  
  잘 예측하는 것도 실력이겠다.

### 어떤 것을 확인해야 할까?
- Disk I/O, 네트워크 트래픽, CPU 사용률, 메모리 사용률


# 서적에는 이렇게 설명한다.
### 왜?
- 비즈니스 로직 상의 무거운 로드를 식별하여 사용자 응답 시간을 단축시킴
- 장애 감지를 위한 임계치 설정
### 환경 준비
- 성능 테스트 툴 : 특정 스크립트로 작성
  e.g. 초 당 사용자 100명 씩 증가 등
- 모니터링 툴 : CPU, Memory, 트래픽,응답 시간 측정, 로그 수집
- 테스트 장비 : 프로덕션 장비와 동일한 스펙의 전용 서버가 필요함.
  없을 경우 병목 지점 튜닝, 슬로우 쿼리 확인 개선 정도로 활용 가능

- Tools
	- 제니퍼
	- 와탭
	- APM
	- 핀포인트 + nGrinder
	- 스카우터
### 어디서?
- 여러 API를 묶어서 결과물을 보여주는 곳
- 주요 기능을 수행하는 API
### 어떤 것을 확인해야 할까?
- 요청에 대한 응답 시간 추이 분석
- 최대 요청 임계치 분석
- 개선 포인트 식별

# DB 개선
- 기본적으로 개선은 SW부터 시작해서 HW까지 넓혀간다. 돈이 많으면 처음부터 HW를 증설하겠지만...

### 1. 인덱스
- 테이블에 인덱스를 설정하면 검색이 빨라진다. 하지만 인덱스 항목을 잘라내거나 합치면 의미가 없다. 적합한 곳에서 사용해야 한다.
	- 부정 조건문에서도 의미 없다. (!=, >, <)
### 2. 실행계획 분석
- SELECT 앞에 EXPLAIN을 붙이면 된다.
```
EXPLAIN SELECT * FROM table
```

이 중에서 Explain join을 눈여겨 봐야 한다.

#### type을 유심히 보자.
- UNION RESULT, DEPENTUNION은 느리다. 수정 대상이다.
#### extra type도 보자.
- 레퍼런스 사이트의 표를 보면 아래로 갈 수록 느리다고 한다.



### 그 외...
중복 쿼리 제거, 캐싱, 쓰기/읽기 서버 분리, 샤딩 등등 개선 하는 방법이 있지만 다음 시간에~



# Referfence
- https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain-join-types